<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH & SOL vs BTC Analysis</title>
    <meta http-equiv="refresh" content="300">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #0a0a0a;
            --border: #1a1a1a;
            --text-primary: #e5e5e5;
            --text-secondary: #999;
            --text-tertiary: #666;
            --accent: #fff;
            --positive: #4a7c59;
            --negative: #7c4a4a;
            --neutral: #7c7c4a;
            --eth-color: #627eea;
            --sol-color: #14f195;
            --btc-color: #f7931a;
        }

        [data-theme="day"] {
            --bg-primary: #fafafa;
            --bg-secondary: #fff;
            --border: #e5e5e5;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --text-tertiary: #999;
            --accent: #000;
            --positive: #16a34a;
            --negative: #dc2626;
            --neutral: #ea580c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 40px 20px;
            line-height: 1.6;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 1px;
            background: var(--border);
            margin-bottom: 30px;
            border-radius: 8px;
            overflow: hidden;
        }

        .nav-tab {
            flex: 1;
            padding: 14px 20px;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            text-decoration: none;
            text-align: center;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }

        .nav-tab:hover {
            background: var(--border);
            color: var(--text-primary);
        }

        .nav-tab.active {
            background: var(--border);
            color: var(--text-primary);
            border-bottom: 2px solid var(--accent);
        }

        .header {
            margin-bottom: 40px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .header-content {
            flex: 1;
        }

        .controls {
            display: flex;
            gap: 10px;
        }

        .theme-toggle, .refresh-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .theme-toggle:hover, .refresh-btn:hover {
            color: var(--text-primary);
            border-color: var(--text-tertiary);
        }

        h1 {
            font-size: 2.5em;
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1em;
        }

        .meta {
            color: var(--text-tertiary);
            font-size: 0.9em;
            margin-top: 10px;
        }

        /* Dominance Alert Banner */
        .dominance-alert {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .dominance-alert.eth-leading {
            border-left: 4px solid var(--eth-color);
        }

        .dominance-alert.sol-leading {
            border-left: 4px solid var(--sol-color);
        }

        .dominance-alert.btc-leading {
            border-left: 4px solid var(--btc-color);
        }

        .alert-icon {
            font-size: 36px;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 1.3em;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .alert-description {
            color: var(--text-secondary);
            font-size: 0.95em;
        }

        .alert-badge {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.85em;
            text-transform: uppercase;
        }

        .badge-bullish { background: rgba(74, 124, 89, 0.3); color: var(--positive); }
        .badge-bearish { background: rgba(124, 74, 74, 0.3); color: var(--negative); }
        .badge-neutral { background: rgba(124, 124, 74, 0.3); color: var(--neutral); }

        /* Price Comparison Cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            background: var(--border);
            margin-bottom: 30px;
        }

        .asset-card {
            background: var(--bg-secondary);
            padding: 30px;
        }

        .asset-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .asset-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .icon-eth { background: var(--eth-color); color: #fff; }
        .icon-sol { background: var(--sol-color); color: #000; }
        .icon-btc { background: var(--btc-color); color: #fff; }

        .asset-name {
            font-size: 1.2em;
            font-weight: 500;
        }

        .asset-symbol {
            color: var(--text-tertiary);
            font-size: 0.85em;
        }

        .asset-price {
            font-size: 2.2em;
            font-weight: 300;
            margin-bottom: 16px;
            font-variant-numeric: tabular-nums;
        }

        .asset-changes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .change-box {
            background: var(--bg-primary);
            padding: 12px;
            border-radius: 4px;
        }

        .change-label {
            font-size: 0.75em;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 4px;
        }

        .change-value {
            font-size: 1.1em;
            font-weight: 500;
            font-variant-numeric: tabular-nums;
        }

        .positive { color: var(--positive); }
        .negative { color: var(--negative); }
        .neutral { color: var(--neutral); }

        /* Metrics Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1px;
            background: var(--border);
            margin-bottom: 1px;
        }

        .card {
            background: var(--bg-secondary);
            padding: 30px;
        }

        .card-title {
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-tertiary);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .metric-row:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        .metric-value {
            font-variant-numeric: tabular-nums;
            color: var(--text-primary);
        }

        /* Ratio Section */
        .ratio-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1px;
            background: var(--border);
            margin-bottom: 30px;
        }

        .ratio-card {
            background: var(--bg-secondary);
            padding: 30px;
        }

        .ratio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .ratio-title {
            font-size: 1.1em;
            font-weight: 500;
        }

        .ratio-badge {
            font-size: 0.75em;
            padding: 4px 10px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .ratio-value {
            font-size: 2.5em;
            font-weight: 300;
            margin-bottom: 8px;
            font-variant-numeric: tabular-nums;
        }

        .ratio-change {
            font-size: 0.95em;
            margin-bottom: 20px;
        }

        .ratio-chart {
            height: 60px;
            background: var(--bg-primary);
            border-radius: 4px;
            display: flex;
            align-items: flex-end;
            padding: 8px;
            gap: 2px;
        }

        .ratio-bar {
            flex: 1;
            background: var(--border);
            border-radius: 2px;
            transition: height 0.3s ease;
        }

        .ratio-explanation {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
            font-size: 0.85em;
            color: var(--text-tertiary);
        }

        /* Performance Comparison */
        .performance-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }

        .performance-header {
            padding: 20px 30px;
            border-bottom: 1px solid var(--border);
        }

        .performance-title {
            font-size: 1.1em;
            font-weight: 500;
        }

        .performance-table {
            width: 100%;
            border-collapse: collapse;
        }

        .performance-table th,
        .performance-table td {
            padding: 16px 30px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .performance-table th {
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-tertiary);
            font-weight: 500;
        }

        .performance-table tr:last-child td {
            border-bottom: none;
        }

        .perf-leader {
            background: rgba(74, 124, 89, 0.1);
        }

        .perf-bar-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .perf-bar {
            flex: 1;
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
        }

        .perf-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .perf-bar-fill.eth { background: var(--eth-color); }
        .perf-bar-fill.sol { background: var(--sol-color); }
        .perf-bar-fill.btc { background: var(--btc-color); }

        /* Signals Section */
        .signals-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            background: var(--border);
            margin-bottom: 30px;
        }

        .signal-card {
            background: var(--bg-secondary);
            padding: 24px;
        }

        .signal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .signal-type {
            font-size: 0.7em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 600;
        }

        .signal-bullish { background: rgba(74, 124, 89, 0.2); color: var(--positive); }
        .signal-bearish { background: rgba(124, 74, 74, 0.2); color: var(--negative); }
        .signal-neutral { background: rgba(124, 124, 74, 0.2); color: var(--neutral); }

        .signal-asset {
            font-size: 0.8em;
            color: var(--text-tertiary);
        }

        .signal-name {
            font-weight: 500;
            margin-bottom: 8px;
        }

        .signal-description {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .signal-data {
            background: var(--bg-primary);
            padding: 12px;
            border-radius: 4px;
            font-size: 0.85em;
        }

        .signal-data-row {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
        }

        /* Chart Container */
        .chart-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 0;
            margin-bottom: 30px;
        }

        .chart-header {
            padding: 20px 30px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-title {
            font-weight: 500;
        }

        .chart-tabs {
            display: flex;
            gap: 8px;
        }

        .chart-tab {
            padding: 6px 14px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-secondary);
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chart-tab:hover, .chart-tab.active {
            background: var(--border);
            color: var(--text-primary);
        }

        .tradingview-widget {
            height: 500px;
        }

        /* Summary */
        .summary {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 40px;
            text-align: center;
        }

        .summary-title {
            font-size: 1.2em;
            font-weight: 300;
            margin-bottom: 30px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .summary-item {
            padding: 20px;
            border: 1px solid var(--border);
        }

        .summary-label {
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-tertiary);
            margin-bottom: 10px;
        }

        .summary-value {
            font-size: 1.2em;
            font-weight: 500;
        }

        .recommendation {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.95em;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            .ratio-grid {
                grid-template-columns: 1fr;
            }
            .signals-grid {
                grid-template-columns: 1fr;
            }
            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
            }
            .header {
                flex-direction: column;
                gap: 20px;
            }
            .controls {
                width: 100%;
                flex-direction: column;
            }
            .summary-grid {
                grid-template-columns: 1fr;
            }
            h1 {
                font-size: 1.8em;
            }
        }

        .loading {
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <a href="index.html" class="nav-tab">Bitcoin Analysis</a>
            <a href="altcoin-dominance.html" class="nav-tab active">ETH & SOL vs BTC</a>
            <a href="metals-crypto-tracker.html" class="nav-tab">Metals → Crypto Flow</a>
        </nav>

        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1>ETH & SOL vs BTC</h1>
                <p class="subtitle">Altcoin Performance Analysis & Rotation Signals</p>
                <div class="meta" id="lastUpdate">Connecting to APIs...</div>
            </div>
            <div class="controls">
                <button class="refresh-btn" onclick="refreshAllData()">⟳ Refresh</button>
                <button class="theme-toggle" onclick="toggleTheme()">Day Mode</button>
            </div>
        </div>

        <!-- Dominance Alert -->
        <div class="dominance-alert" id="dominanceAlert">
            <div class="alert-icon" id="alertIcon">⏳</div>
            <div class="alert-content">
                <div class="alert-title" id="alertTitle">Analyzing Market Structure...</div>
                <div class="alert-description" id="alertDescription">Loading price data to determine which asset is showing relative strength</div>
            </div>
            <div class="alert-badge badge-neutral" id="alertBadge">LOADING</div>
        </div>

        <!-- Price Comparison -->
        <section class="comparison-grid">
            <!-- Ethereum -->
            <div class="asset-card">
                <div class="asset-header">
                    <div class="asset-icon icon-eth">ETH</div>
                    <div>
                        <div class="asset-name">Ethereum</div>
                        <div class="asset-symbol">ETH/USDT</div>
                    </div>
                </div>
                <div class="asset-price loading" id="ethPrice">$---.--</div>
                <div class="asset-changes">
                    <div class="change-box">
                        <div class="change-label">24h Change</div>
                        <div class="change-value" id="ethChange24h">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">7d Change</div>
                        <div class="change-value" id="ethChange7d">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">24h Volume</div>
                        <div class="change-value" id="ethVolume">$--B</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">Market Cap</div>
                        <div class="change-value" id="ethMcap">$--B</div>
                    </div>
                </div>
            </div>

            <!-- Solana -->
            <div class="asset-card">
                <div class="asset-header">
                    <div class="asset-icon icon-sol">SOL</div>
                    <div>
                        <div class="asset-name">Solana</div>
                        <div class="asset-symbol">SOL/USDT</div>
                    </div>
                </div>
                <div class="asset-price loading" id="solPrice">$---.--</div>
                <div class="asset-changes">
                    <div class="change-box">
                        <div class="change-label">24h Change</div>
                        <div class="change-value" id="solChange24h">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">7d Change</div>
                        <div class="change-value" id="solChange7d">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">24h Volume</div>
                        <div class="change-value" id="solVolume">$--B</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">Market Cap</div>
                        <div class="change-value" id="solMcap">$--B</div>
                    </div>
                </div>
            </div>

            <!-- Bitcoin (Reference) -->
            <div class="asset-card">
                <div class="asset-header">
                    <div class="asset-icon icon-btc">BTC</div>
                    <div>
                        <div class="asset-name">Bitcoin</div>
                        <div class="asset-symbol">BTC/USDT (Reference)</div>
                    </div>
                </div>
                <div class="asset-price loading" id="btcPrice">$--,---.--</div>
                <div class="asset-changes">
                    <div class="change-box">
                        <div class="change-label">24h Change</div>
                        <div class="change-value" id="btcChange24h">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">7d Change</div>
                        <div class="change-value" id="btcChange7d">--%</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">24h Volume</div>
                        <div class="change-value" id="btcVolume">$--B</div>
                    </div>
                    <div class="change-box">
                        <div class="change-label">Dominance</div>
                        <div class="change-value" id="btcDominance">--%</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ratio Cards -->
        <section class="ratio-grid">
            <!-- ETH/BTC Ratio -->
            <div class="ratio-card">
                <div class="ratio-header">
                    <div class="ratio-title">ETH/BTC Ratio</div>
                    <div class="ratio-badge" id="ethBtcBadge">--</div>
                </div>
                <div class="ratio-value" id="ethBtcRatio">0.0000</div>
                <div class="ratio-change" id="ethBtcChange">
                    <span class="neutral">Calculating...</span>
                </div>
                <div class="ratio-chart" id="ethBtcChart">
                    <!-- Mini chart bars will be added dynamically -->
                </div>
                <div class="ratio-explanation">
                    <strong>Rising ratio:</strong> ETH outperforming BTC (alt season signal)<br>
                    <strong>Falling ratio:</strong> BTC outperforming ETH (BTC dominance rising)
                </div>
            </div>

            <!-- SOL/BTC Ratio -->
            <div class="ratio-card">
                <div class="ratio-header">
                    <div class="ratio-title">SOL/BTC Ratio</div>
                    <div class="ratio-badge" id="solBtcBadge">--</div>
                </div>
                <div class="ratio-value" id="solBtcRatio">0.000000</div>
                <div class="ratio-change" id="solBtcChange">
                    <span class="neutral">Calculating...</span>
                </div>
                <div class="ratio-chart" id="solBtcChart">
                    <!-- Mini chart bars will be added dynamically -->
                </div>
                <div class="ratio-explanation">
                    <strong>Rising ratio:</strong> SOL outperforming BTC (high-beta alt rally)<br>
                    <strong>Falling ratio:</strong> SOL underperforming (risk-off or BTC strength)
                </div>
            </div>
        </section>

        <!-- Detailed Metrics -->
        <section class="grid">
            <div class="card">
                <div class="card-title">ETH Metrics</div>
                <div class="metric-row">
                    <span class="metric-label">24h High</span>
                    <span class="metric-value" id="ethHigh">$--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">24h Low</span>
                    <span class="metric-value" id="ethLow">$--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">24h Range %</span>
                    <span class="metric-value" id="ethRange">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">vs BTC (24h)</span>
                    <span class="metric-value" id="ethVsBtc24h">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">vs BTC (7d)</span>
                    <span class="metric-value" id="ethVsBtc7d">--%</span>
                </div>
            </div>

            <div class="card">
                <div class="card-title">SOL Metrics</div>
                <div class="metric-row">
                    <span class="metric-label">24h High</span>
                    <span class="metric-value" id="solHigh">$--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">24h Low</span>
                    <span class="metric-value" id="solLow">$--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">24h Range %</span>
                    <span class="metric-value" id="solRange">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">vs BTC (24h)</span>
                    <span class="metric-value" id="solVsBtc24h">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">vs BTC (7d)</span>
                    <span class="metric-value" id="solVsBtc7d">--%</span>
                </div>
            </div>

            <div class="card">
                <div class="card-title">ETH vs SOL</div>
                <div class="metric-row">
                    <span class="metric-label">ETH/SOL Ratio</span>
                    <span class="metric-value" id="ethSolRatio">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">24h Leader</span>
                    <span class="metric-value" id="leader24h">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">7d Leader</span>
                    <span class="metric-value" id="leader7d">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Volatility Compare</span>
                    <span class="metric-value" id="volatilityCompare">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Volume Ratio</span>
                    <span class="metric-value" id="volumeRatio">--</span>
                </div>
            </div>

            <div class="card">
                <div class="card-title">Market Structure</div>
                <div class="metric-row">
                    <span class="metric-label">BTC Dominance</span>
                    <span class="metric-value" id="btcDom">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">ETH Dominance</span>
                    <span class="metric-value" id="ethDom">--%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Alt Season Index</span>
                    <span class="metric-value" id="altSeasonIndex">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Risk Appetite</span>
                    <span class="metric-value" id="riskAppetite">--</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Rotation Status</span>
                    <span class="metric-value" id="rotationStatus">--</span>
                </div>
            </div>
        </section>

        <!-- Performance Comparison Table -->
        <section class="performance-section">
            <div class="performance-header">
                <div class="performance-title">Performance Comparison</div>
            </div>
            <table class="performance-table">
                <thead>
                    <tr>
                        <th>Timeframe</th>
                        <th>ETH</th>
                        <th>SOL</th>
                        <th>BTC</th>
                        <th>Leader</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="perf1h">
                        <td>1 Hour</td>
                        <td id="eth1h">--%</td>
                        <td id="sol1h">--%</td>
                        <td id="btc1h">--%</td>
                        <td id="leader1h">--</td>
                    </tr>
                    <tr id="perf24h">
                        <td>24 Hours</td>
                        <td id="eth24h">--%</td>
                        <td id="sol24h">--%</td>
                        <td id="btc24h">--%</td>
                        <td id="leader24hTable">--</td>
                    </tr>
                    <tr id="perf7d">
                        <td>7 Days</td>
                        <td id="eth7d">--%</td>
                        <td id="sol7d">--%</td>
                        <td id="btc7d">--%</td>
                        <td id="leader7dTable">--</td>
                    </tr>
                    <tr id="perf30d">
                        <td>30 Days</td>
                        <td id="eth30d">--%</td>
                        <td id="sol30d">--%</td>
                        <td id="btc30d">--%</td>
                        <td id="leader30d">--</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Signals -->
        <section class="signals-grid">
            <div class="signal-card">
                <div class="signal-header">
                    <span class="signal-type signal-neutral" id="signal1Type">MONITORING</span>
                    <span class="signal-asset">ETH</span>
                </div>
                <div class="signal-name">ETH Outperformance</div>
                <div class="signal-description" id="signal1Desc">Tracking if Ethereum is gaining relative strength against Bitcoin, signaling potential alt season.</div>
                <div class="signal-data">
                    <div class="signal-data-row">
                        <span>ETH/BTC 24h</span>
                        <span id="signal1Data1">--</span>
                    </div>
                    <div class="signal-data-row">
                        <span>ETH vs BTC Spread</span>
                        <span id="signal1Data2">--</span>
                    </div>
                </div>
            </div>

            <div class="signal-card">
                <div class="signal-header">
                    <span class="signal-type signal-neutral" id="signal2Type">MONITORING</span>
                    <span class="signal-asset">SOL</span>
                </div>
                <div class="signal-name">SOL High-Beta Move</div>
                <div class="signal-description" id="signal2Desc">Solana often leads altcoin rallies with amplified moves. Watch for breakout signals.</div>
                <div class="signal-data">
                    <div class="signal-data-row">
                        <span>SOL/BTC 24h</span>
                        <span id="signal2Data1">--</span>
                    </div>
                    <div class="signal-data-row">
                        <span>SOL vs BTC Spread</span>
                        <span id="signal2Data2">--</span>
                    </div>
                </div>
            </div>

            <div class="signal-card">
                <div class="signal-header">
                    <span class="signal-type signal-neutral" id="signal3Type">MONITORING</span>
                    <span class="signal-asset">MARKET</span>
                </div>
                <div class="signal-name">Rotation Signal</div>
                <div class="signal-description" id="signal3Desc">Detecting capital rotation between BTC and altcoins based on relative performance.</div>
                <div class="signal-data">
                    <div class="signal-data-row">
                        <span>Flow Direction</span>
                        <span id="signal3Data1">--</span>
                    </div>
                    <div class="signal-data-row">
                        <span>Confidence</span>
                        <span id="signal3Data2">--</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Charts -->
        <section class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Price Charts</div>
                <div class="chart-tabs">
                    <button class="chart-tab active" onclick="loadChart('ETHBTC')">ETH/BTC</button>
                    <button class="chart-tab" onclick="loadChart('SOLBTC')">SOL/BTC</button>
                    <button class="chart-tab" onclick="loadChart('ETHUSDT')">ETH/USDT</button>
                    <button class="chart-tab" onclick="loadChart('SOLUSDT')">SOL/USDT</button>
                </div>
            </div>
            <div id="tradingviewChart" class="tradingview-widget"></div>
        </section>

        <!-- Summary -->
        <section class="summary">
            <div class="summary-title">Current Assessment</div>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-label">ETH Outlook</div>
                    <div class="summary-value" id="ethOutlook">--</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">SOL Outlook</div>
                    <div class="summary-value" id="solOutlook">--</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Best Performer</div>
                    <div class="summary-value" id="bestPerformer">--</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Risk Level</div>
                    <div class="summary-value" id="riskLevel">--</div>
                </div>
            </div>
            <div class="recommendation" id="recommendation">
                Loading market data to generate recommendations...
            </div>
        </section>
    </div>

    <script src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // Global state
        let priceData = {
            eth: { price: 0, change1h: 0, change24h: 0, change7d: 0, change30d: 0, high24h: 0, low24h: 0, volume: 0, mcap: 0 },
            sol: { price: 0, change1h: 0, change24h: 0, change7d: 0, change30d: 0, high24h: 0, low24h: 0, volume: 0, mcap: 0 },
            btc: { price: 0, change1h: 0, change24h: 0, change7d: 0, change30d: 0, volume: 0, dominance: 0 }
        };

        let currentTheme = localStorage.getItem('theme') || 'night';
        let currentChart = 'ETHBTC';

        // Theme initialization
        if (currentTheme === 'day') {
            document.documentElement.setAttribute('data-theme', 'day');
            document.querySelector('.theme-toggle').textContent = 'Night Mode';
        }

        function toggleTheme() {
            const button = document.querySelector('.theme-toggle');
            if (currentTheme === 'day') {
                document.documentElement.removeAttribute('data-theme');
                button.textContent = 'Day Mode';
                currentTheme = 'night';
            } else {
                document.documentElement.setAttribute('data-theme', 'day');
                button.textContent = 'Night Mode';
                currentTheme = 'day';
            }
            localStorage.setItem('theme', currentTheme);
            loadChart(currentChart);
        }

        // Format helpers
        function formatCurrency(value, decimals = 2) {
            if (value >= 1e9) return '$' + (value / 1e9).toFixed(2) + 'B';
            if (value >= 1e6) return '$' + (value / 1e6).toFixed(2) + 'M';
            return '$' + value.toLocaleString('en-US', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
        }

        function formatPercent(value) {
            const sign = value >= 0 ? '+' : '';
            return sign + value.toFixed(2) + '%';
        }

        function getChangeClass(value) {
            if (value > 0.5) return 'positive';
            if (value < -0.5) return 'negative';
            return 'neutral';
        }

        // Fetch data from CoinGecko
        async function fetchPriceData() {
            try {
                const response = await fetch(
                    'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,solana&order=market_cap_desc&sparkline=false&price_change_percentage=1h,24h,7d,30d'
                );
                const data = await response.json();

                data.forEach(coin => {
                    if (coin.id === 'ethereum') {
                        priceData.eth = {
                            price: coin.current_price,
                            change1h: coin.price_change_percentage_1h_in_currency || 0,
                            change24h: coin.price_change_percentage_24h || 0,
                            change7d: coin.price_change_percentage_7d_in_currency || 0,
                            change30d: coin.price_change_percentage_30d_in_currency || 0,
                            high24h: coin.high_24h,
                            low24h: coin.low_24h,
                            volume: coin.total_volume,
                            mcap: coin.market_cap
                        };
                    } else if (coin.id === 'solana') {
                        priceData.sol = {
                            price: coin.current_price,
                            change1h: coin.price_change_percentage_1h_in_currency || 0,
                            change24h: coin.price_change_percentage_24h || 0,
                            change7d: coin.price_change_percentage_7d_in_currency || 0,
                            change30d: coin.price_change_percentage_30d_in_currency || 0,
                            high24h: coin.high_24h,
                            low24h: coin.low_24h,
                            volume: coin.total_volume,
                            mcap: coin.market_cap
                        };
                    } else if (coin.id === 'bitcoin') {
                        priceData.btc = {
                            price: coin.current_price,
                            change1h: coin.price_change_percentage_1h_in_currency || 0,
                            change24h: coin.price_change_percentage_24h || 0,
                            change7d: coin.price_change_percentage_7d_in_currency || 0,
                            change30d: coin.price_change_percentage_30d_in_currency || 0,
                            volume: coin.total_volume,
                            dominance: 0
                        };
                    }
                });

                // Fetch global data for dominance
                const globalResponse = await fetch('https://api.coingecko.com/api/v3/global');
                const globalData = await globalResponse.json();
                priceData.btc.dominance = globalData.data.market_cap_percentage.btc || 0;
                priceData.eth.dominance = globalData.data.market_cap_percentage.eth || 0;

                return true;
            } catch (error) {
                console.error('Error fetching price data:', error);
                return false;
            }
        }

        // Update UI
        function updateUI() {
            // Prices
            document.getElementById('ethPrice').textContent = formatCurrency(priceData.eth.price);
            document.getElementById('ethPrice').classList.remove('loading');
            document.getElementById('solPrice').textContent = formatCurrency(priceData.sol.price);
            document.getElementById('solPrice').classList.remove('loading');
            document.getElementById('btcPrice').textContent = formatCurrency(priceData.btc.price);
            document.getElementById('btcPrice').classList.remove('loading');

            // ETH changes
            updateChangeElement('ethChange24h', priceData.eth.change24h);
            updateChangeElement('ethChange7d', priceData.eth.change7d);
            document.getElementById('ethVolume').textContent = formatCurrency(priceData.eth.volume);
            document.getElementById('ethMcap').textContent = formatCurrency(priceData.eth.mcap);

            // SOL changes
            updateChangeElement('solChange24h', priceData.sol.change24h);
            updateChangeElement('solChange7d', priceData.sol.change7d);
            document.getElementById('solVolume').textContent = formatCurrency(priceData.sol.volume);
            document.getElementById('solMcap').textContent = formatCurrency(priceData.sol.mcap);

            // BTC changes
            updateChangeElement('btcChange24h', priceData.btc.change24h);
            updateChangeElement('btcChange7d', priceData.btc.change7d);
            document.getElementById('btcVolume').textContent = formatCurrency(priceData.btc.volume);
            document.getElementById('btcDominance').textContent = priceData.btc.dominance.toFixed(1) + '%';

            // Update timestamp
            document.getElementById('lastUpdate').textContent =
                'Last update: ' + new Date().toISOString().replace('T', ' ').substring(0, 19) + ' UTC • Auto-refresh: 5min';
        }

        function updateChangeElement(id, value) {
            const el = document.getElementById(id);
            el.textContent = formatPercent(value);
            el.className = 'change-value ' + getChangeClass(value);
        }

        // Update ratios
        function updateRatios() {
            const ethBtcRatio = priceData.eth.price / priceData.btc.price;
            const solBtcRatio = priceData.sol.price / priceData.btc.price;

            document.getElementById('ethBtcRatio').textContent = ethBtcRatio.toFixed(5);
            document.getElementById('solBtcRatio').textContent = solBtcRatio.toFixed(6);

            // Calculate ratio changes (approximation)
            const ethBtcChange = priceData.eth.change24h - priceData.btc.change24h;
            const solBtcChange = priceData.sol.change24h - priceData.btc.change24h;

            // ETH/BTC
            const ethBtcChangeEl = document.getElementById('ethBtcChange');
            const ethBtcBadgeEl = document.getElementById('ethBtcBadge');
            if (ethBtcChange > 1) {
                ethBtcChangeEl.innerHTML = `<span class="positive">ETH outperforming (+${ethBtcChange.toFixed(2)}%)</span>`;
                ethBtcBadgeEl.textContent = 'BULLISH';
                ethBtcBadgeEl.className = 'ratio-badge positive';
            } else if (ethBtcChange < -1) {
                ethBtcChangeEl.innerHTML = `<span class="negative">BTC outperforming (${ethBtcChange.toFixed(2)}%)</span>`;
                ethBtcBadgeEl.textContent = 'BEARISH';
                ethBtcBadgeEl.className = 'ratio-badge negative';
            } else {
                ethBtcChangeEl.innerHTML = `<span class="neutral">Neutral (${ethBtcChange.toFixed(2)}%)</span>`;
                ethBtcBadgeEl.textContent = 'NEUTRAL';
                ethBtcBadgeEl.className = 'ratio-badge neutral';
            }

            // SOL/BTC
            const solBtcChangeEl = document.getElementById('solBtcChange');
            const solBtcBadgeEl = document.getElementById('solBtcBadge');
            if (solBtcChange > 2) {
                solBtcChangeEl.innerHTML = `<span class="positive">SOL outperforming (+${solBtcChange.toFixed(2)}%)</span>`;
                solBtcBadgeEl.textContent = 'BULLISH';
                solBtcBadgeEl.className = 'ratio-badge positive';
            } else if (solBtcChange < -2) {
                solBtcChangeEl.innerHTML = `<span class="negative">BTC outperforming (${solBtcChange.toFixed(2)}%)</span>`;
                solBtcBadgeEl.textContent = 'BEARISH';
                solBtcBadgeEl.className = 'ratio-badge negative';
            } else {
                solBtcChangeEl.innerHTML = `<span class="neutral">Neutral (${solBtcChange.toFixed(2)}%)</span>`;
                solBtcBadgeEl.textContent = 'NEUTRAL';
                solBtcBadgeEl.className = 'ratio-badge neutral';
            }
        }

        // Update detailed metrics
        function updateMetrics() {
            // ETH metrics
            document.getElementById('ethHigh').textContent = formatCurrency(priceData.eth.high24h);
            document.getElementById('ethLow').textContent = formatCurrency(priceData.eth.low24h);
            const ethRange = ((priceData.eth.high24h - priceData.eth.low24h) / priceData.eth.low24h * 100);
            document.getElementById('ethRange').textContent = ethRange.toFixed(2) + '%';

            const ethVsBtc24h = priceData.eth.change24h - priceData.btc.change24h;
            const ethVsBtc7d = priceData.eth.change7d - priceData.btc.change7d;
            updateChangeElement('ethVsBtc24h', ethVsBtc24h);
            updateChangeElement('ethVsBtc7d', ethVsBtc7d);

            // SOL metrics
            document.getElementById('solHigh').textContent = formatCurrency(priceData.sol.high24h);
            document.getElementById('solLow').textContent = formatCurrency(priceData.sol.low24h);
            const solRange = ((priceData.sol.high24h - priceData.sol.low24h) / priceData.sol.low24h * 100);
            document.getElementById('solRange').textContent = solRange.toFixed(2) + '%';

            const solVsBtc24h = priceData.sol.change24h - priceData.btc.change24h;
            const solVsBtc7d = priceData.sol.change7d - priceData.btc.change7d;
            updateChangeElement('solVsBtc24h', solVsBtc24h);
            updateChangeElement('solVsBtc7d', solVsBtc7d);

            // ETH vs SOL
            const ethSolRatio = priceData.eth.price / priceData.sol.price;
            document.getElementById('ethSolRatio').textContent = ethSolRatio.toFixed(2);

            const leader24h = priceData.eth.change24h > priceData.sol.change24h ? 'ETH' : 'SOL';
            const leader7d = priceData.eth.change7d > priceData.sol.change7d ? 'ETH' : 'SOL';
            document.getElementById('leader24h').textContent = leader24h;
            document.getElementById('leader24h').className = 'metric-value ' + (leader24h === 'ETH' ? 'positive' : 'neutral');
            document.getElementById('leader7d').textContent = leader7d;
            document.getElementById('leader7d').className = 'metric-value ' + (leader7d === 'ETH' ? 'positive' : 'neutral');

            // Volatility compare
            const ethVol = ethRange;
            const solVol = solRange;
            document.getElementById('volatilityCompare').textContent = solVol > ethVol ? 'SOL more volatile' : 'ETH more volatile';

            // Volume ratio
            const volRatio = priceData.eth.volume / priceData.sol.volume;
            document.getElementById('volumeRatio').textContent = 'ETH/SOL: ' + volRatio.toFixed(2);

            // Market structure
            document.getElementById('btcDom').textContent = priceData.btc.dominance.toFixed(1) + '%';
            document.getElementById('ethDom').textContent = (priceData.eth.dominance || 0).toFixed(1) + '%';

            // Alt season index (simple calculation)
            const altSeasonScore = Math.max(0, Math.min(100, 50 + (ethVsBtc7d + solVsBtc7d) * 5));
            const altSeasonEl = document.getElementById('altSeasonIndex');
            altSeasonEl.textContent = altSeasonScore.toFixed(0) + '/100';
            altSeasonEl.className = 'metric-value ' + (altSeasonScore > 60 ? 'positive' : altSeasonScore < 40 ? 'negative' : 'neutral');

            // Risk appetite
            const avgAltChange = (priceData.eth.change24h + priceData.sol.change24h) / 2;
            const riskEl = document.getElementById('riskAppetite');
            if (avgAltChange > priceData.btc.change24h + 2) {
                riskEl.textContent = 'Risk-On';
                riskEl.className = 'metric-value positive';
            } else if (avgAltChange < priceData.btc.change24h - 2) {
                riskEl.textContent = 'Risk-Off';
                riskEl.className = 'metric-value negative';
            } else {
                riskEl.textContent = 'Neutral';
                riskEl.className = 'metric-value neutral';
            }

            // Rotation status
            const rotationEl = document.getElementById('rotationStatus');
            if (priceData.btc.dominance > 55 && avgAltChange < priceData.btc.change24h) {
                rotationEl.textContent = 'BTC Accumulation';
                rotationEl.className = 'metric-value negative';
            } else if (avgAltChange > priceData.btc.change24h + 3) {
                rotationEl.textContent = 'Alt Rotation';
                rotationEl.className = 'metric-value positive';
            } else {
                rotationEl.textContent = 'Stable';
                rotationEl.className = 'metric-value neutral';
            }
        }

        // Update performance table
        function updatePerformanceTable() {
            // 1h
            updateTableRow('eth1h', priceData.eth.change1h);
            updateTableRow('sol1h', priceData.sol.change1h);
            updateTableRow('btc1h', priceData.btc.change1h);
            updateLeader('leader1h', priceData.eth.change1h, priceData.sol.change1h, priceData.btc.change1h);

            // 24h
            updateTableRow('eth24h', priceData.eth.change24h);
            updateTableRow('sol24h', priceData.sol.change24h);
            updateTableRow('btc24h', priceData.btc.change24h);
            updateLeader('leader24hTable', priceData.eth.change24h, priceData.sol.change24h, priceData.btc.change24h);

            // 7d
            updateTableRow('eth7d', priceData.eth.change7d);
            updateTableRow('sol7d', priceData.sol.change7d);
            updateTableRow('btc7d', priceData.btc.change7d);
            updateLeader('leader7dTable', priceData.eth.change7d, priceData.sol.change7d, priceData.btc.change7d);

            // 30d
            updateTableRow('eth30d', priceData.eth.change30d);
            updateTableRow('sol30d', priceData.sol.change30d);
            updateTableRow('btc30d', priceData.btc.change30d);
            updateLeader('leader30d', priceData.eth.change30d, priceData.sol.change30d, priceData.btc.change30d);
        }

        function updateTableRow(id, value) {
            const el = document.getElementById(id);
            el.textContent = formatPercent(value);
            el.className = getChangeClass(value);
        }

        function updateLeader(id, ethVal, solVal, btcVal) {
            const el = document.getElementById(id);
            const max = Math.max(ethVal, solVal, btcVal);
            if (ethVal === max) {
                el.textContent = 'ETH';
                el.style.color = 'var(--eth-color)';
            } else if (solVal === max) {
                el.textContent = 'SOL';
                el.style.color = 'var(--sol-color)';
            } else {
                el.textContent = 'BTC';
                el.style.color = 'var(--btc-color)';
            }
        }

        // Update signals
        function updateSignals() {
            const ethVsBtc = priceData.eth.change24h - priceData.btc.change24h;
            const solVsBtc = priceData.sol.change24h - priceData.btc.change24h;

            // Signal 1: ETH Outperformance
            const signal1TypeEl = document.getElementById('signal1Type');
            if (ethVsBtc > 3) {
                signal1TypeEl.textContent = 'BULLISH';
                signal1TypeEl.className = 'signal-type signal-bullish';
                document.getElementById('signal1Desc').textContent = 'ETH showing strong outperformance against BTC. Alt season conditions may be developing.';
            } else if (ethVsBtc < -3) {
                signal1TypeEl.textContent = 'BEARISH';
                signal1TypeEl.className = 'signal-type signal-bearish';
                document.getElementById('signal1Desc').textContent = 'ETH underperforming BTC significantly. BTC dominance likely rising.';
            } else {
                signal1TypeEl.textContent = 'MONITORING';
                signal1TypeEl.className = 'signal-type signal-neutral';
            }
            document.getElementById('signal1Data1').textContent = formatPercent(ethVsBtc);
            document.getElementById('signal1Data2').textContent = ethVsBtc > 0 ? 'ETH Leading' : 'BTC Leading';

            // Signal 2: SOL High-Beta
            const signal2TypeEl = document.getElementById('signal2Type');
            if (solVsBtc > 5) {
                signal2TypeEl.textContent = 'BULLISH';
                signal2TypeEl.className = 'signal-type signal-bullish';
                document.getElementById('signal2Desc').textContent = 'SOL making a strong high-beta move! Often leads broader altcoin rallies.';
            } else if (solVsBtc < -5) {
                signal2TypeEl.textContent = 'BEARISH';
                signal2TypeEl.className = 'signal-type signal-bearish';
                document.getElementById('signal2Desc').textContent = 'SOL getting hit harder than BTC. Risk-off environment, avoid high-beta alts.';
            } else {
                signal2TypeEl.textContent = 'MONITORING';
                signal2TypeEl.className = 'signal-type signal-neutral';
            }
            document.getElementById('signal2Data1').textContent = formatPercent(solVsBtc);
            document.getElementById('signal2Data2').textContent = solVsBtc > 0 ? 'SOL Leading' : 'BTC Leading';

            // Signal 3: Rotation
            const signal3TypeEl = document.getElementById('signal3Type');
            const avgAltVsBtc = (ethVsBtc + solVsBtc) / 2;
            if (avgAltVsBtc > 3) {
                signal3TypeEl.textContent = 'ALT FLOW';
                signal3TypeEl.className = 'signal-type signal-bullish';
                document.getElementById('signal3Desc').textContent = 'Capital rotating from BTC into altcoins. Potential alt season developing.';
                document.getElementById('signal3Data1').textContent = 'BTC → ALTS';
            } else if (avgAltVsBtc < -3) {
                signal3TypeEl.textContent = 'BTC FLOW';
                signal3TypeEl.className = 'signal-type signal-bearish';
                document.getElementById('signal3Desc').textContent = 'Capital rotating back to BTC. Alts likely to underperform.';
                document.getElementById('signal3Data1').textContent = 'ALTS → BTC';
            } else {
                signal3TypeEl.textContent = 'MONITORING';
                signal3TypeEl.className = 'signal-type signal-neutral';
                document.getElementById('signal3Data1').textContent = 'Stable';
            }
            document.getElementById('signal3Data2').textContent = Math.abs(avgAltVsBtc) > 2 ? 'HIGH' : 'LOW';
        }

        // Update alert banner
        function updateAlert() {
            const ethVsBtc = priceData.eth.change24h - priceData.btc.change24h;
            const solVsBtc = priceData.sol.change24h - priceData.btc.change24h;
            const avgAltVsBtc = (ethVsBtc + solVsBtc) / 2;

            const alertEl = document.getElementById('dominanceAlert');
            const iconEl = document.getElementById('alertIcon');
            const titleEl = document.getElementById('alertTitle');
            const descEl = document.getElementById('alertDescription');
            const badgeEl = document.getElementById('alertBadge');

            alertEl.classList.remove('eth-leading', 'sol-leading', 'btc-leading');

            if (solVsBtc > 5) {
                alertEl.classList.add('sol-leading');
                iconEl.textContent = '🚀';
                titleEl.textContent = 'Solana Breakout Detected';
                descEl.textContent = `SOL is outperforming BTC by ${solVsBtc.toFixed(2)}% in the last 24h. High-beta rally in progress - SOL often leads altcoin moves.`;
                badgeEl.textContent = 'SOL LEADING';
                badgeEl.className = 'alert-badge badge-bullish';
            } else if (ethVsBtc > 3) {
                alertEl.classList.add('eth-leading');
                iconEl.textContent = '📈';
                titleEl.textContent = 'Ethereum Showing Strength';
                descEl.textContent = `ETH is outperforming BTC by ${ethVsBtc.toFixed(2)}% in the last 24h. Potential rotation into altcoins developing.`;
                badgeEl.textContent = 'ETH LEADING';
                badgeEl.className = 'alert-badge badge-bullish';
            } else if (avgAltVsBtc < -3) {
                alertEl.classList.add('btc-leading');
                iconEl.textContent = '⚠️';
                titleEl.textContent = 'BTC Dominance Rising';
                descEl.textContent = `Alts underperforming BTC by ${Math.abs(avgAltVsBtc).toFixed(2)}%. Risk-off environment - consider reducing alt exposure.`;
                badgeEl.textContent = 'BTC LEADING';
                badgeEl.className = 'alert-badge badge-bearish';
            } else if (solVsBtc < -5) {
                alertEl.classList.add('btc-leading');
                iconEl.textContent = '🔻';
                titleEl.textContent = 'Solana Getting Hit Hard';
                descEl.textContent = `SOL underperforming BTC by ${Math.abs(solVsBtc).toFixed(2)}%. High-beta assets selling off - caution advised.`;
                badgeEl.textContent = 'RISK OFF';
                badgeEl.className = 'alert-badge badge-bearish';
            } else {
                iconEl.textContent = '⚖️';
                titleEl.textContent = 'Market in Balance';
                descEl.textContent = 'No significant rotation detected between BTC and altcoins. Market moving in sync.';
                badgeEl.textContent = 'NEUTRAL';
                badgeEl.className = 'alert-badge badge-neutral';
            }
        }

        // Update summary
        function updateSummary() {
            const ethVsBtc = priceData.eth.change24h - priceData.btc.change24h;
            const solVsBtc = priceData.sol.change24h - priceData.btc.change24h;

            // ETH outlook
            const ethOutlookEl = document.getElementById('ethOutlook');
            if (ethVsBtc > 2) {
                ethOutlookEl.textContent = 'Bullish';
                ethOutlookEl.className = 'summary-value positive';
            } else if (ethVsBtc < -2) {
                ethOutlookEl.textContent = 'Bearish';
                ethOutlookEl.className = 'summary-value negative';
            } else {
                ethOutlookEl.textContent = 'Neutral';
                ethOutlookEl.className = 'summary-value neutral';
            }

            // SOL outlook
            const solOutlookEl = document.getElementById('solOutlook');
            if (solVsBtc > 3) {
                solOutlookEl.textContent = 'Bullish';
                solOutlookEl.className = 'summary-value positive';
            } else if (solVsBtc < -3) {
                solOutlookEl.textContent = 'Bearish';
                solOutlookEl.className = 'summary-value negative';
            } else {
                solOutlookEl.textContent = 'Neutral';
                solOutlookEl.className = 'summary-value neutral';
            }

            // Best performer
            const bestEl = document.getElementById('bestPerformer');
            if (priceData.sol.change24h > priceData.eth.change24h && priceData.sol.change24h > priceData.btc.change24h) {
                bestEl.textContent = 'SOL';
                bestEl.style.color = 'var(--sol-color)';
            } else if (priceData.eth.change24h > priceData.btc.change24h) {
                bestEl.textContent = 'ETH';
                bestEl.style.color = 'var(--eth-color)';
            } else {
                bestEl.textContent = 'BTC';
                bestEl.style.color = 'var(--btc-color)';
            }

            // Risk level
            const avgVol = (Math.abs(priceData.eth.change24h) + Math.abs(priceData.sol.change24h)) / 2;
            const riskEl = document.getElementById('riskLevel');
            if (avgVol > 8) {
                riskEl.textContent = 'High';
                riskEl.className = 'summary-value negative';
            } else if (avgVol > 4) {
                riskEl.textContent = 'Medium';
                riskEl.className = 'summary-value neutral';
            } else {
                riskEl.textContent = 'Low';
                riskEl.className = 'summary-value positive';
            }

            // Recommendation
            const recEl = document.getElementById('recommendation');
            if (ethVsBtc > 3 && solVsBtc > 3) {
                recEl.innerHTML = '<strong>Alt Season Signal:</strong> Both ETH and SOL outperforming BTC. Consider increasing altcoin exposure. SOL showing higher beta - more risk/reward.';
            } else if (solVsBtc > 5 && ethVsBtc < 2) {
                recEl.innerHTML = '<strong>SOL Leading:</strong> Solana making a move while ETH lags. High-beta play active. Consider SOL for momentum, but manage risk.';
            } else if (ethVsBtc > 3 && solVsBtc < 2) {
                recEl.innerHTML = '<strong>ETH Strength:</strong> Ethereum showing relative strength. More conservative alt play. Quality over quantity approach.';
            } else if (ethVsBtc < -3 && solVsBtc < -3) {
                recEl.innerHTML = '<strong>BTC Dominance Phase:</strong> Alts underperforming. Consider rotating to BTC or reducing exposure. Wait for reversal signals.';
            } else if (solVsBtc < -5) {
                recEl.innerHTML = '<strong>Risk-Off Warning:</strong> SOL getting hit hard - typical in risk-off environments. Reduce high-beta exposure, favor BTC/ETH.';
            } else {
                recEl.innerHTML = '<strong>Neutral Conditions:</strong> No clear rotation signal. Monitor for breakouts in either direction. Both ETH and SOL moving with BTC.';
            }
        }

        // Load TradingView chart
        function loadChart(symbol) {
            currentChart = symbol;
            const container = document.getElementById('tradingviewChart');
            if (!container) return;

            container.innerHTML = '';

            // Update active tab
            document.querySelectorAll('.chart-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.textContent.includes(symbol.replace('USDT', '').replace('BTC', '/BTC'))) {
                    tab.classList.add('active');
                }
            });

            let tvSymbol;
            switch(symbol) {
                case 'ETHBTC': tvSymbol = 'BINANCE:ETHBTC'; break;
                case 'SOLBTC': tvSymbol = 'BINANCE:SOLBTC'; break;
                case 'ETHUSDT': tvSymbol = 'BINANCE:ETHUSDT'; break;
                case 'SOLUSDT': tvSymbol = 'BINANCE:SOLUSDT'; break;
                default: tvSymbol = 'BINANCE:ETHBTC';
            }

            new TradingView.widget({
                "autosize": true,
                "symbol": tvSymbol,
                "interval": "60",
                "timezone": "Etc/UTC",
                "theme": currentTheme === 'day' ? "light" : "dark",
                "style": "1",
                "locale": "en",
                "toolbar_bg": currentTheme === 'day' ? "#fff" : "#0a0a0a",
                "enable_publishing": false,
                "hide_side_toolbar": false,
                "allow_symbol_change": true,
                "container_id": "tradingviewChart",
                "studies": ["RSI@tv-basicstudies"],
                "show_popup_button": false
            });
        }

        // Main refresh
        async function refreshAllData() {
            const success = await fetchPriceData();
            if (success) {
                updateUI();
                updateRatios();
                updateMetrics();
                updatePerformanceTable();
                updateSignals();
                updateAlert();
                updateSummary();
            }
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', async () => {
            await refreshAllData();
            loadChart('ETHBTC');
        });
    </script>
</body>
</html>
